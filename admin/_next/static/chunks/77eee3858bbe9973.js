(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75157,7670,e=>{"use strict";function t(){for(var e,t,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,a,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(a=e(t[r]))&&(i&&(i+=" "),i+=a)}else for(a in t)t[a]&&(i&&(i+=" "),i+=a);return i}(e))&&(a&&(a+=" "),a+=t);return a}function r(...e){return t(e)}function a(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function i(e,t="TRY"){return new Intl.NumberFormat("tr-TR",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}function s(e){let t,r="string"==typeof e?new Date(e):e,a=new Date().getTime()-r.getTime(),i=Math.floor(a/6e4),s=Math.floor(a/36e5),n=Math.floor(a/864e5);return i<1?"Şimdi":i<60?`${i} dk \xf6nce`:s<24?`${s} saat \xf6nce`:n<7?`${n} g\xfcn \xf6nce`:(t="string"==typeof r?new Date(r):r,new Intl.DateTimeFormat("tr-TR",{year:"numeric",month:"short",day:"numeric"}).format(t))}function n(e){return e.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}function o(e){return({active:"text-emerald-500",banned:"text-rose-500",deleted:"text-gray-500",pending:"text-amber-500",reviewed:"text-blue-500",dismissed:"text-gray-500",action_taken:"text-emerald-500"})[e]||"text-gray-500"}function l(e){return({active:"bg-emerald-500/20",banned:"bg-rose-500/20",deleted:"bg-gray-500/20",pending:"bg-amber-500/20",reviewed:"bg-blue-500/20",dismissed:"bg-gray-500/20",action_taken:"bg-emerald-500/20"})[e]||"bg-gray-500/20"}e.s(["clsx",()=>t],7670),e.s(["cn",()=>r,"formatCurrency",()=>i,"formatNumber",()=>a,"formatRelativeTime",()=>s,"getInitials",()=>n,"getStatusBgColor",()=>l,"getStatusColor",()=>o],75157)},59544,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let i=(0,r.forwardRef)(({className:e,variant:r="primary",size:i="md",loading:s,disabled:n,children:o,...l},d)=>(0,t.jsxs)("button",{ref:d,className:(0,a.cn)("inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary text-black hover:bg-primary/90 active:scale-[0.98]",secondary:"bg-white/10 text-white hover:bg-white/20 border border-white/10",outline:"border border-primary/30 text-primary hover:bg-primary/10",ghost:"text-white/70 hover:text-white hover:bg-white/5",danger:"bg-rose-500/20 text-rose-500 border border-rose-500/30 hover:bg-rose-500/30"}[r],{sm:"h-8 px-3 text-xs gap-1.5",md:"h-10 px-4 text-sm gap-2",lg:"h-12 px-6 text-base gap-2",icon:"h-10 w-10"}[i],e),disabled:n||s,...l,children:[s&&(0,t.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]}));i.displayName="Button",e.s(["Button",()=>i])},3812,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75157);let i=(0,r.forwardRef)(({className:e,label:r,error:i,icon:s,multiline:n,...o},l)=>{let d=(0,a.cn)("w-full bg-white/5 border border-white/10 rounded-xl px-4 text-white placeholder:text-white/30","focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20","transition-all duration-200",n?"py-3 min-height-[120px] resize-none":"h-12",s&&"pl-10",i&&"border-rose-500 focus:border-rose-500 focus:ring-rose-500/20",e);return(0,t.jsxs)("div",{className:"space-y-1.5",children:[r&&(0,t.jsx)("label",{className:"text-sm font-medium text-white/70",children:r}),(0,t.jsxs)("div",{className:"relative",children:[s&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s}),n?(0,t.jsx)("textarea",{ref:l,className:d,...o}):(0,t.jsx)("input",{ref:l,className:d,...o})]}),i&&(0,t.jsx)("p",{className:"text-xs text-rose-500",children:i})]})});i.displayName="Input",e.s(["Input",()=>i])},94542,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566);e.i(51718);var i=e.i(18357);e.i(36180);var s=e.i(98925),n=e.i(59141),o=e.i(30944),l=e.i(3812),d=e.i(59544);let c=async e=>{try{let t=await (0,s.getDoc)((0,s.doc)(n.db,"admins",e));if(t.exists()){let r=t.data();return{isAdmin:!0,role:r.role||"admin",name:r.name||e.split("@")[0]}}if(["omerbedirhano@gmail.com"].includes(e))return await (0,s.setDoc)((0,s.doc)(n.db,"admins",e),{email:e,name:"Ömer Bedirhan",role:"super_admin",createdAt:new Date,lastLogin:new Date}),{isAdmin:!0,role:"super_admin",name:"Ömer Bedirhan"};return{isAdmin:!1,role:"",name:""}}catch(e){return console.error("Admin check error:",e),{isAdmin:!1,role:"",name:""}}};function m(){let[e,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[p,x]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[b,y]=(0,r.useState)(""),w=(0,a.useRouter)(),{setCurrentAdmin:v}=(0,o.useAdminStore)(),j=async t=>{t.preventDefault(),x(!0),y("");try{let t=await (0,i.signInWithEmailAndPassword)(n.auth,e,u),r=await c(t.user.email||"");if(!r.isAdmin){y("Bu hesap admin yetkisine sahip değil."),x(!1);return}await (0,s.setDoc)((0,s.doc)(n.db,"admins",t.user.email||""),{lastLogin:new Date},{merge:!0});let a=["super_admin","admin","moderator","support"].includes(r.role)?r.role:"admin";v({id:t.user.uid,name:r.name,email:t.user.email||"",role:a}),w.push("/")}catch(e){console.error("Login Error:",e.code),"auth/user-not-found"===e.code?await k():"auth/wrong-password"===e.code?y("Şifre hatalı. Lütfen kontrol edin."):"auth/invalid-credential"===e.code||"auth/invalid-login-credentials"===e.code?await k():y("Giriş yapılırken bir hata oluştu: "+e.message)}finally{x(!1)}},N=async()=>{x(!0),y("");let e=new i.GoogleAuthProvider;try{let t=await (0,i.signInWithPopup)(n.auth,e),r=await c(t.user.email||"");if(!r.isAdmin){y("Bu Google hesabı admin yetkisine sahip değil."),x(!1);return}await (0,s.setDoc)((0,s.doc)(n.db,"admins",t.user.email||""),{lastLogin:new Date},{merge:!0});let a=["super_admin","admin","moderator","support"].includes(r.role)?r.role:"admin";v({id:t.user.uid,name:r.name||t.user.displayName||"Admin",email:t.user.email||"",role:a}),w.push("/")}catch(e){console.error("Google Login Error:",e),"auth/popup-closed-by-user"===e.code?y("Giriş penceresi kapatıldı."):"auth/operation-not-allowed"===e.code?y("Google ile giriş Firebase konsolunda aktif değil."):y("Google ile giriş hatası: "+e.message)}finally{x(!1)}},k=async()=>{let t=await c(e);if(!t.isAdmin)return void y("E-posta veya şifre hatalı.");try{let r=await (0,i.createUserWithEmailAndPassword)(n.auth,e,u),a=["super_admin","admin","moderator","support"].includes(t.role)?t.role:"admin";v({id:r.user.uid,name:t.name,email:r.user.email||"",role:a}),w.push("/")}catch(e){"auth/email-already-in-use"===e.code?y('Bu e-posta kayıtlı ancak şifre yanlış. Lütfen "admin123" ile deneyin.'):y("Hesap oluşturulamadı: "+e.message)}},A=async()=>{if(!e)return void y("Lütfen e-posta adresinizi girin.");try{await (0,i.sendPasswordResetEmail)(n.auth,e),f(!0),y("")}catch(e){y("Sıfırlama e-postası gönderilemedi: "+e.message)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background-dark p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md space-y-8 glass p-8 rounded-2xl border border-primary/20",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-primary mb-2",children:"DENGIM"}),(0,t.jsx)("p",{className:"text-white/60 text-sm",children:"Admin Paneli Girişi"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,t.jsx)(l.Input,{label:"E-posta",type:"email",placeholder:"admin@dengim.com",value:e,onChange:e=>m(e.target.value),required:!0,className:"bg-background-dark border-white/10"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Input,{label:"Şifre",type:"password",placeholder:"••••••••",value:u,onChange:e=>h(e.target.value),required:!0,className:"bg-background-dark border-white/10"}),(0,t.jsx)("div",{className:"flex justify-end mt-1",children:(0,t.jsx)("button",{type:"button",onClick:A,className:"text-xs text-primary hover:text-primary/80 transition-colors",children:"Şifremi Unuttum"})})]}),(0,t.jsx)(d.Button,{type:"submit",className:"w-full h-12 text-base",loading:p,children:"Giriş Yap"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-white/10"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-background-dark px-2 text-white/30 italic",children:"ya da"})})]}),(0,t.jsxs)("button",{onClick:N,disabled:p,className:"w-full h-12 flex items-center justify-center gap-3 bg-white text-black font-semibold rounded-xl hover:bg-white/90 transition-all disabled:opacity-50",children:[(0,t.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Google ile Devam Et"]})]}),b&&(0,t.jsx)("div",{className:"p-3 rounded-lg bg-rose-500/10 border border-rose-500/20 text-rose-500 text-sm font-medium text-center",children:b}),g&&(0,t.jsx)("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 text-sm font-medium text-center",children:"Şifre sıfırlama bağlantısı e-posta adresinize gönderildi!"}),(0,t.jsx)("p",{className:"text-center text-[10px] text-white/20 mt-6",children:"Bu alan sadece yetkili personel içindir. IP Adresiniz kaydedilmektedir."})]})})}e.s(["default",()=>m])}]);